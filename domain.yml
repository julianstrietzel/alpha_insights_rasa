version: "3.1"

intents:
  - einleitung_bot_herausforderung
  - grund_info
  - aktueller_bd_status
  - erweiterter_bd_status
  - ablesungen_ausserhalb_zielbereich
  - details_ausreisser
  - wendepunkte
  - trendaenderungen_medikation
  - trends
  - veraenderungen_ueber_tag
  - benutzer_id_bereitstellen # Currently not used!


responses:
  utter_bot_challenge:
    - text: "Dieser ChatBot wurde entwickelt, um eine Vielzahl von Anfragen im Zusammenhang mit den Blutdruckwerten des 
    Patienten zu beantworten. Er verwendet verfügbare Blutdruckdaten, um auf bestimmte Fragen zu den neuesten Messwerten 
    des Patienten, Messwerten über einen bestimmten Zeitraum, Schwankungen und Trends seit Änderungen der Medikation 
    und mehr zu reagieren. Er kann detaillierte Analysen und Visualisierungen liefern, die zu einem umfassenderen 
    Verständnis der Gesundheit des Patienten beitragen.\n
    Bitte fahren Sie fort, indem Sie Ihre Frage stellen.\n
    Mögliche Fragen sind u.a.:\
    'Welche waren meine höchsten und niedrigsten Messwerte im letzten Monat?'\n
    'Können Sie mehr Details zu den Messungen über dem Zielbereich liefern?'\n
    'Hat sich der Blutdruck des Benutzers seit dem 12. Dezember verändert?'\n"
      buttons:
        - title: "Gab es Veränderungen in der Medikation?"
          payload: "Hat sich der Blutdruck seit dem Medikamentenwechsel verändert?"
        - title: "Werte außerhalb des Zielkorridors"
          payload: "Gab es hohe systolische Messungen im letzten Monat?"
        - title: "Veränderungen über den Tag"
          payload: "Wie verhält sich mein Blutdruck über den Tag?"

  
  
  
  utter_ask_user_id:
    - text: "Please provide the user ID"
    - text: "What is the user ID?"
    - text: "Can you tell me the user ID of the patient of concern?"

  utter_inform_gpt_interaction:
    - text: "We will use gpt to answer this question..."

session_config:
  session_expiration_time: 60
  carry_over_slots_to_new_session: true

entities:
  - user_id:
      influence_conversation: false
  - type:
      influence_conversation: false
  - direction:
      influence_conversation: false
  - limit:
      influence_conversation: false
  - change_date: # date of change in medication
      influence_conversation: false
  - timespan:
      influence_conversation: false

slots:
  type:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: type
  direction:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: direction
  limit:
    type: text
    influence_conversation: false
    mappings:
      - type: from_entity
        entity: limit
  change_date:
    type: text
    influence_conversation: false
    initial_value: "2024-05-23"
    mappings:
      - type: from_entity
        entity: change_date
  timespan: # should be Tag, Woche, Monat, Jahr (english)
    type: text
    influence_conversation: false
    initial_value: "Monat"
    mappings:
      - type: from_entity
        entity: timespan
  user_id:
    type: text
    initial_value: "25601"
    mappings:
      - type: from_entity
        entity: user_id
        intent: provide_user_id
      - type: custom
  nickname:
    type: text
    influence_conversation: false
    mappings:
      - type: custom
  title:
    type: text
    influence_conversation: false
    mappings:
      - type: custom
  geo:
    type: text
    influence_conversation: false
    mappings:
      - type: custom
  health:
    type: text
    influence_conversation: false
    mappings:
      - type: custom
  home_longitude:
    type: text
    influence_conversation: false
    mappings:
      - type: custom
  home_latitude:
    type: text
    influence_conversation: false
    mappings:
      - type: custom
  birthday:
    type: text
    influence_conversation: false
    mappings:
      - type: custom
  sex:
    type: text
    influence_conversation: false
    mappings:
      - type: custom
  medical_preconditions:
    type: text
    influence_conversation: false
    mappings:
      - type: custom


actions:
  - action_grund_info
  - action_aktueller_bd_status
  - action_erweiterter_bd_status
  - action_ablesungen_ausserhalb_zielbereich
  - action_details_ausreisser
  - action_wendepunkte
  - action_trendaenderungen_medikation
  - action_trends
  - action_gpt_fallback
  - action_veraenderungen_ueber_tag
  - action_defog_fallback

